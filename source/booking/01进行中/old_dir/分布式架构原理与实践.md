---
doc_type: weread-highlights-reviews
bookId: "3300030924"
author: 崔皓 　著
cover: https://cdn.weread.qq.com/weread/cover/19/cpPlatform_gsfwgoxxHpKgskeFNtFxwu/t7_cpPlatform_gsfwgoxxHpKgskeFNtFxwu.jpg
reviewCount: 0
noteCount: 9
readingStatus: 读完
progress: 68%
totalReadDay: 2
readingTime: 0小时26分钟
readingDate: 2023-09-21
finishedDate: 2024-02-07
isbn: 9787115576620
title: 《分布式架构原理与实践》
date: 2024-02-07

---

![ 分布式架构原理与实践|200](https://cdn.weread.qq.com/weread/cover/19/cpPlatform_gsfwgoxxHpKgskeFNtFxwu/t7_cpPlatform_gsfwgoxxHpKgskeFNtFxwu.jpg)


### 2.5 领域驱动设计分层


- 📌 DIP 的思想指出：高层模块不应该依赖于底层模块，这两者都应该依赖于抽象；抽象不应该依赖于细节，细节应该依赖于抽象。因此，作为底层的基础层应该依赖于用户接口层、应用层和领域层提供的接口。高层是根据业务展开的，通过对业务抽象产生了接口，底层依赖这些接口为高层提供服务。 
    - ⏱ 2024-02-07 00:37:22 
### 3.1 负载均衡


- 📌 一般来说，应用服务器与互联网之间会加一个反向代理服务器，它先接收用户的请求，然后将请求转发到内网的应用服务器，充当外网与内网之间的缓冲。 
    - ⏱ 2024-02-07 00:39:06 

- 📌 假设同时存在两个订单服务，需要通过负载均衡的方式找到响应请求的服务。此时的软件负载均衡器不仅实现了反向代理功能，也实现了负载均衡的功能。前者对客户端与服务端进行了隔离，并且让客户端的请求找到对应的服务；后者针对水平扩展的多个服务进行负载均衡处理，将客户端请求有选择地分配到多个承载相同服务的服务器上。 
    - ⏱ 2024-02-07 00:39:39 

- 📌 通过 Nginx 的负载均衡，处理“万级别”的并发请求应该不在话下。当遇到“百万级”的并发请求时，就需要使用硬件负载均衡配合软件负载均衡来完成了。通常会在“代理层”之上加入“接入层”，先利用类似 F5 的硬件负载均衡器承载大流量，然后在转给 Nginx 这样的软件负载均衡器。 
    - ⏱ 2024-02-07 00:40:34 
### 3.2 API 网关


- 📌 网关一词最早用于描述网络设备，比如两个相互独立的局域网通过路由器进行通信，中间的路由器就被称为网关。落实到开发层面，网关存在于客户端与微服务系统之间。 
    - ⏱ 2024-02-07 00:42:00 

- 📌 如果一个下单的功能点需要调用多个服务，那么在这个下单的 API 网关中就需要聚合多个服务的调用。这种聚合方式有点像设计模式中的门面模式（Facade），它为外部调用提供一个统一的访问入口。 
    - ⏱ 2024-02-07 00:43:09 
### 5.1 MapReduce 模式


- 📌 对海量数据进行拆分，然后对拆分后的小块进行计算，这也是 MapReduce 分而治之的计算策略。这种策略在现实生活中也比较常见，例如学校要统计每个班参加春游的人数，校长将这个统计任务分配给各个年级的各个班，由各个班的班长分别统计，最后这些统计结果汇总到校长手上，校长就知道有多少人参加春游了。 
    - ⏱ 2024-02-07 00:45:06 

- 📌 MapReduce 的具体做法是对大数据集做拆分，将拆分成的小块数据集交给一个个独立的计算任务，这些计算任务分布在不同的服务器上，这些服务器并行执行拆分后的计算任务，最后将所有计算任务的结果合并起来，就产生了最后的计算结果。 
    - ⏱ 2024-02-07 00:45:16 

- 📌 上述过程中，拆分数据集的过程称为 Map，对计算好的结果进行合并的过程是 Reduce。 
    - ⏱ 2024-02-07 00:45:23 

# 读书笔记


# 本书评论
