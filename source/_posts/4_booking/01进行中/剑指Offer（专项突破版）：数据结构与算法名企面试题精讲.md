---
doc_type: weread-highlights-reviews
bookId: "40107878"
author: 何海涛
cover: https://cdn.weread.qq.com/weread/cover/45/YueWen_40107878/t7_YueWen_40107878.jpg
reviewCount: 0
noteCount: 7
title: 《剑指Offer（专项突破版）：数据结构与算法名企面试题精讲》
date: 2023-09-18
---

---


## 5.2 哈希表的设计


- 📌 哈希表最重要的特点就是高效，只需要O（1）的时间就可以把一个元素存入或读出。在常用的基础数据结构中，数组满足这个要求。只要知道数组中的下标，就可以用O（1）的时间存入或读出一个元素。因此，可以考虑基于数组实现哈希表。 
    - ⏱ 2023-09-18 21:43:46 

- 📌 把哈希值转换成数组下标可以采用的方法是对数组的长度求余数。 
    - ⏱ 2023-09-18 21:43:56 

- 📌 再在哈希表中存入一个哈希值为7的元素。由于7除以4的余数为3，因此它存入的位置应该是3。下标为3的位置之前已经被下标为3的元素占用。如果将两个哈希值不同的元素存入数组中的同一位置，就会引起冲突。为了解决这种冲突，可以把存入数组中同一位置的多个元素用链表存储。也就是说，数组中每个位置对应的不是一个元素，而是一个链表 
    - ⏱ 2023-09-18 21:44:18 

- 📌 在链表中做顺序扫描的时间复杂度为O（n），链表越长查找需要的时间就越长。这就违背了设计哈希表最重要的一个初衷：存入和读取一个元素的时间复杂度为O（1）。因此，必须确保链表不能太长。 
    - ⏱ 2023-09-18 21:45:31 

- 📌 当哈希表中元素的数目与数组长度的比值超过某一阈值时，就对数组进行扩容（通常让数组的长度翻倍），然后把哈希表中的每个元素根据新的数组大小求余数并存入合适的位置。 
    - ⏱ 2023-09-18 21:45:49 

- 📌 通过对数组进行扩容，原本存入同一链表的不同元素就可能会被分散到不同的位置，从而减少链表的长度。当再在哈希表中添加新的元素时，元素的数目与数组长度的比值可能会再次超过阈值，于是需要再次对数组进行扩容。只要阈值设置得合理，哈希表中的链表就不会太长，仍然可以认为存入和读取的时间复杂度都是O（1）。 
    - ⏱ 2023-09-18 21:46:33 

- 📌 由此可知，设计哈希表有3个要点。为了快速确定一个元素在哈希表中的位置，可以使用一个数组，元素的位置为它的哈希值除以数组长度的余数。由于多个哈希值不同的元素可能会被存入同一位置，数组的每个位置都对应一个链表，因此存入同一位置的多个元素都被添加到同一链表中。为了确保链表不会太长，就需要计算哈希表中元素的数目与数组长度的比值。当这个比值超过某个阈值时，就对数组进行扩容并把哈希表中的所有元素重新分配位置。 
    - ⏱ 2023-09-18 21:47:59 

# 读书笔记


# 本书评论
